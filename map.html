<!DOCTYPE html><html><head><title>Lab 4</title><meta charset="utf-8"><meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no"><link href='https://api.mapbox.com/mapbox-gl-js/v2.14.1/mapbox-gl.css' rel='stylesheet'><script src='https://api.mapbox.com/mapbox-gl-js/v2.14.1/mapbox-gl.js'></script><style>body{margin:0;padding:0;font-family:sans-serif}#map{position:absolute;top:0;bottom:0;width:100%}#title{position:absolute;top:20px;left:20px;background:white;padding:15px;border-radius:4px;width:300px;z-index:100;box-shadow:0 0 10px rgba(0,0,0,0.1)}#menu{position:absolute;top:20px;right:20px;background:white;padding:10px;border-radius:4px;z-index:100;box-shadow:0 0 10px rgba(0,0,0,0.1)}.item{display:block;margin:5px 0;cursor:pointer}a{color:#007bff;text-decoration:none}
#legend { position: absolute; bottom: 30px; right: 20px; background: rgba(255,255,255,0.9); padding: 10px; border-radius: 4px; box-shadow: 0 0 10px rgba(0,0,0,0.1); z-index: 100; display: none; }
#legend img { display: block; width: 200px; }
</style></head><body><div id='map'></div><div id='title'><h3>Geography of Aging</h3><p>Visualizing 65+ Population</p><p style="font-size:12px;color:#888">Data: CDC SVI 2022</p><a href="https://github.com/rta2810/gego458-lab4" target="_blank">ðŸ“– View Project Documentation (Readme)</a></div>
<div id='menu'><label class='item'><input type='radio' name='l' value='tileset_1' checked> Monochrome</label><label class='item'><input type='radio' name='l' value='tileset_2'> Thematic (Data)</label><label class='item'><input type='radio' name='l' value='tileset_3'> Composite</label><label class='item'><input type='radio' name='l' value='tileset_4'> UW Theme</label></div>
<div id="legend"><strong>Legend</strong><br><img src="assets/legend.png"></div>
<script>mapboxgl.accessToken='pk.eyJ1IjoidHllYW5razQ2NyIsImEiOiJjbWt0NzM2aXMxMTl0M2VvZDhxNGg1cGJiIn0.6KyP80qDn6aZnqlm5xg1Hw';const map=new mapboxgl.Map({container:'map',style:{version:8,sources:{},layers:[]},center:[-122.33,47.60],zoom:11});map.on('load',()=>{['tileset_1','tileset_2','tileset_3','tileset_4'].forEach(id=>{map.addSource(id,{type:'raster',tiles:[`assets/${id}/{z}/{x}/{y}.png`],tileSize:256});map.addLayer({id:id,type:'raster',source:id,layout:{visibility:id==='tileset_1'?'visible':'none'}});});
const legend = document.getElementById('legend');
document.querySelectorAll('input').forEach(i=>{i.onclick=(e)=>{
    const val = e.target.value;
    ['tileset_1','tileset_2','tileset_3','tileset_4'].forEach(id=>{map.setLayoutProperty(id,'visibility',id===val?'visible':'none');});
    legend.style.display = (val === 'tileset_1') ? 'none' : 'block';
};});map.addControl(new mapboxgl.NavigationControl());map.addControl(new mapboxgl.ScaleControl());});</script></body></html>
